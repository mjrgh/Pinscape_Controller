https://developer.mbed.org/users/mjr/code/FastPWM/#25e9500598ae
