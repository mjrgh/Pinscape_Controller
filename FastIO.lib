http://developer.mbed.org/users/Sissors/code/FastIO/#327ae1d5fecb
