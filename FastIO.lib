https://developer.mbed.org/users/mjr/code/FastIO/#199aca52ac42
